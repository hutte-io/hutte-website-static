import{e as W,i as d,P as X,Z as Y,E as ee,l as I,N as M,K as j,j as te,u as c,c as h,a as b,f as oe,h as ae,w as F,g as q,b as se,S as v,x as re,T as ne,o as u,d as B,I as V,J as L,_ as le}from"./entry.8da5b463.js";import{B as ie}from"./BrakeTrailComponent.227a9688.js";import ce from"./ResourceHubHero.134158c4.js";import ue from"./ResourceHubItemCard.c5fbd1a9.js";import pe from"./ResourceHubItemForm.1a0b856c.js";import de from"./ResourceHubItemCTA.b591a4fd.js";import me from"./ResourceHubFilterBar.1697a47f.js";import{g as ge}from"./methods.a958ce69.js";import"./checkbox_gray.7a7d7c50.js";import"./helpers.904313e1.js";import"./WhitepaperForm.e273c536.js";import"./MultiSelectComponent.c8656ff0.js";import"./index.773781ec.js";import"./ResourceHubSearchBar.vue.d72b1673.js";const fe={key:0,class:"relative"},_e={key:0,class:"relative hutte-wrapper grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 grid-rows-1 gap-[22px] !my-[40px] justify-items-stretch items-stretch place-items-stretch"},he={key:1,class:"relative hutte-wrapper py-[60px] space-y-[16px]"},ve={class:"brake-trail-wrapper"},ye=W({__name:"index",setup(be){const m=d([]),G=X(),n=Y(),N=ee(),C=d(""),P={title:"Salesforce DevOps Solution For Everyone",description:"Hutte is easy, powerful, and accessible to anyone on your team, regardless of technical skills and coding knowledge.",contact_sales:"Contact Sales",contact_sales_link:I.TALK_TO_SALES,get_started:"Get Started For Free",get_started_link:I.GET_STARTED,image:[{filename:"https://a.storyblok.com/f/167380/1560x1065/36d3fcb095/brake_trail_home_bg.webp"},{filename:"https://a.storyblok.com/f/167380/1560x1065/36d3fcb095/brake_trail_home_bg.png"}],video:{filename:"https://a.storyblok.com/f/167380/x/21581058fa/6.mp4"}};let y=d(null);const K=()=>{y.value=Date.now()},D=async()=>{try{y.value||(y.value=Date.now());const a=await G.getAll("cdn/stories",{version:"published",cv:y.value,with_tag:[v.RESOURCE_HUB_META,v.RESOURCE_HUB_PAGE,v.RESOURCE_HUB_PAGE_ITEMS],per_page:100,sort_by:"first_published_at:desc"});return a.sort((t,s)=>{var i,p;const o=new Date(((i=t.content)==null?void 0:i.date)||t.published_at).getTime();return new Date(((p=s.content)==null?void 0:p.date)||s.published_at).getTime()-o}),a}catch(a){return console.error("Error fetching stories:",a),[]}},Q=async()=>{(await D()).some(t=>new Date(t.published_at).getTime()>y.value)&&K()};let H,R,x={categoryOptions:[],topicOptions:[],personaOptions:[]};const $=async()=>{var a;try{await Q();const t=await D();m.value=[...t];const s=m.value.find(e=>{var r;return(r=e==null?void 0:e.tag_list)==null?void 0:r.includes(v.RESOURCE_HUB_META)}),o=m.value.filter(e=>{var r;return(r=e==null?void 0:e.tag_list)==null?void 0:r.includes(v.RESOURCE_HUB_PAGE)}),l=m.value.filter(e=>{var r;return(r=e==null?void 0:e.tag_list)==null?void 0:r.includes(v.RESOURCE_HUB_PAGE_ITEMS)}),i=ge(s);H=(a=o.find(e=>{var r;return(r=e==null?void 0:e.name)==null?void 0:r.includes("resource-hub")}))==null?void 0:a.content,R=l;const p=l.map(e=>{var r;return(r=e.content)==null?void 0:r.category}),S=l.flatMap(e=>{var r;return(r=e.content)==null?void 0:r.topic}),E=l.flatMap(e=>{var r;return(r=e.content)==null?void 0:r.persona}),w=[...new Set(p)],T=[...new Set(S)],A=[...new Set(E)];x.categoryOptions=w.filter(Boolean).map(e=>({value:e,label:e})),x.topicOptions=T.filter(Boolean).map(e=>({value:e,label:e})),x.personaOptions=A.filter(Boolean).map(e=>({value:e,label:e})),re(i),O()}catch(t){console.log(t)}},O=()=>{g.value=Array.isArray(n.query.categories)?n.query.categories:n.query.categories?n.query.categories.split(","):[],f.value=Array.isArray(n.query.topics)?n.query.topics:n.query.topics?n.query.topics.split(","):[],_.value=Array.isArray(n.query.personas)?n.query.personas:n.query.personas?n.query.personas.split(","):[]},g=d([]),f=d([]),_=d([]);M([g,f,_],([a,t,s])=>{const o=n.query;(a.join(",")!==(o.categories||"").toString()||t.join(",")!==(o.topics||"").toString()||s.join(",")!==(o.personas||"").toString())&&N.push({query:{...n.query,categories:a.length?a.join(","):void 0,topics:t.length?t.join(","):void 0,personas:s.length?s.join(","):void 0}})}),M(n,()=>{O()});const k=j(()=>{let a=R;if(g.value.length>0&&(a=a.filter(t=>{var s;return g.value.includes((s=t.content)==null?void 0:s.category)})),f.value.length>0&&(a=a.filter(t=>{var s,o;return(o=(s=t.content)==null?void 0:s.topic)==null?void 0:o.some(l=>f.value.includes(l))})),_.value.length>0&&(a=a.filter(t=>{var s,o;return(o=(s=t.content)==null?void 0:s.persona)==null?void 0:o.some(l=>_.value.includes(l))})),C.value.trim()){const t=C.value.trim().toLowerCase();a=a.filter(s=>{var o,l,i;return((o=s.name)==null?void 0:o.toLowerCase().includes(t))||((i=(l=s.content)==null?void 0:l.headline)==null?void 0:i.toLowerCase().includes(t))})}return a.slice(0,U.value)}),J=a=>{C.value=a},U=d(12),Z=()=>{U.value+=8},z=j(()=>k.value.length>=U.value&&k.value.length<R.length);return te($),(a,t)=>{const s=ne;return c(m)&&c(m).length?(u(),h("main",fe,[b(ce,{data:c(H)},null,8,["data"]),b(me,{data:c(x),categoryValues:c(g),topicValues:c(f),personaValues:c(_),"onUpdate:categoryValues":t[0]||(t[0]=o=>g.value=o),"onUpdate:topicValues":t[1]||(t[1]=o=>f.value=o),"onUpdate:personaValues":t[2]||(t[2]=o=>_.value=o),"onUpdate:searchInput":J},null,8,["data","categoryValues","topicValues","personaValues"]),c(k).length>0?(u(),h("div",_e,[(u(!0),h(oe,null,ae(c(k),(o,l)=>{var i,p,S,E,w,T,A,e;return u(),h("div",{key:`${o.content._uid}-${l}`,class:"overflow-hidden rounded-[18px] border-solid border-[1px] border-t-0 border-[#D9DDE2] rounded-b-[20px]"},[((p=(i=o.content)==null?void 0:i.form_script)==null?void 0:p.length)>0?(u(),B(V(pe),{key:0,data:o.content},null,8,["data"])):((E=(S=o.content)==null?void 0:S.cta)==null?void 0:E.length)===0&&((T=(w=o.content)==null?void 0:w.form_script)==null?void 0:T.length)===0?(u(),B(V(ue),{key:1,data:o.content},null,8,["data"])):((e=(A=o.content)==null?void 0:A.cta)==null?void 0:e.length)>0?(u(),B(V(de),{key:2,data:o.content.cta[0]},null,8,["data"])):q("",!0)])}),128))])):(u(),h("div",he,[b(s,{tag:"h3",theme:"h3",class:"w-fit text-black lg:mx-auto"},{default:F(()=>t[3]||(t[3]=[L("No resource items found")])),_:1,__:[3]}),b(s,{tag:"p",theme:"p",class:"w-fit text-black lg:mx-auto"},{default:F(()=>t[4]||(t[4]=[L("Try broadening your search or exploring our filters to find what you're looking for.")])),_:1,__:[4]})])),c(z)?(u(),h("button",{key:2,onClick:Z,class:"flex justify-center border-solid border-[1px] border-black p-[10px_40px] rounded-[10px] mx-auto mb-[40px]"}," Load More ")):q("",!0),se("div",ve,[b(ie,{content:P})])])):q("",!0)}}});const Oe=le(ye,[["__scopeId","data-v-c15aaf9d"]]);export{Oe as default};
