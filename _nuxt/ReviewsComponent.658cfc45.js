import{e as B,P as E,v as $,z as q,S as y,q as T,i as I,K as z,j as F,o as u,c as h,b as t,t as c,u as o,p as _,a3 as v,f as L,h as O,_ as V}from"./entry.8da5b463.js";import{g as S}from"./helpers.904313e1.js";const b=""+new URL("chevron_right.3b637882.svg",import.meta.url).href,A={class:"wrapper"},M={class:"top"},D={class:"title"},K={class:"contols"},N={class:"slide__text"},P={class:"person"},j={class:"picture"},U=["srcset"],Y=["src"],G={class:"person__name"},H={class:"person__position"},J=["href"],Q=["src"],X=B({__name:"ReviewsComponent",async setup(Z){let l,m;const d=["rgba(230, 210, 255, 0.2)","rgba(145, 137, 255, 0.15)","rgba(35, 235, 130, 0.15)","rgba(0, 180, 255, 0.15)","rgba(145, 137, 255, 0.2)","rgba(195, 255, 190, 0.2)"],k=E();let g="",i=[];const{data:p}=([l,m]=$(async()=>q(`key-${y.REVIEWS}`,async()=>await k.get("cdn/stories",{version:{}.STORYBLOK_VERSION,with_tag:y.REVIEWS}))),l=await l,m(),l);g=p.value.data.stories.find(n=>n.name.includes("header")).content.title,i=p.value.data.stories.filter(n=>!n.name.includes("header")).sort((n,s)=>s.name>n.name?-1:1).map(n=>n.content);const e=T({currentIndex:0,slideWidth:0,slidesWidth:0,scrollbarWidth:18,currentScreenWidth:0,increment(){this.currentIndex++},decrement(){this.currentIndex--}}),f=I(120),x=I(null);let a=z({get(){return e.currentIndex===0?f.value:e.currentIndex===i.length-3&&e.currentScreenWidth>=1536?e.slideWidth*i.length+100-e.slidesWidth+(i.length-6)*20+120:e.currentIndex<i.length-2?e.currentIndex*e.slideWidth+e.currentIndex*20:e.slideWidth*i.length+100-e.slidesWidth+(i.length-6)*20+120},set(n){f.value=n}});const W=n=>{if(!(n==="inc"&&e.currentIndex===i.length-3&&e.currentScreenWidth>=1536)){if(n==="inc"&&e.currentIndex<i.length-2)return e.increment();if(n==="dec"&&e.currentIndex>0)return e.decrement();console.log(e.currentIndex,e.currentScreenWidth)}},w=n=>d[n<d.length?n:Math.floor(Math.random()*d.length)],C=()=>{e.slideWidth=document.querySelector(".slide").getBoundingClientRect().width,e.slidesWidth=+document.querySelector(".slides").getBoundingClientRect().width.toFixed(),e.currentScreenWidth=screen.width,screen.width<1024?(e.currentIndex=0,a.value=0):(a.value=120,x.value.scrollTo(0,0))};return F(()=>{e.currentScreenWidth=screen.width,e.slideWidth=document.querySelector(".slide").getBoundingClientRect().width,e.slidesWidth=+document.querySelector(".slides").getBoundingClientRect().width.toFixed(),window.addEventListener("resize",C),e.scrollbarWidth-window.innerWidth-document.documentElement.clientWidth}),(n,s)=>(u(),h("section",A,[t("div",M,[t("h3",D,c(o(g)),1),t("div",K,[t("button",{onClick:s[0]||(s[0]=r=>W("dec"))},s[3]||(s[3]=[t("img",{src:b,alt:"chevron image"},null,-1)])),t("button",{onClick:s[1]||(s[1]=r=>W("inc"))},s[4]||(s[4]=[t("img",{src:b,alt:"chevron icon"},null,-1)]))])]),t("div",{class:"slides",ref_key:"slides",ref:x,style:_({width:`calc(100vw - ${e.scrollbarWidth}px)`,maxWidth:"1600px"})},[t("div",{class:"slides__container",style:_({transform:`translate(${e.currentIndex===0?"":"-"}${o(a)}px)`})},[s[2]||(v(-1,!0),(s[2]=(u(!0),h(L,null,O(o(i),(r,R)=>(u(),h("div",{class:"slide",style:_({backgroundColor:`${w(R)}`})},[t("p",N,c(r.text),1),t("div",P,[t("picture",j,[t("source",{srcset:o(S)(r==null?void 0:r.picture,"webp"),type:"image/webp"},null,8,U),t("img",{class:"image",src:o(S)(r==null?void 0:r.picture,"png"),alt:"reviewer image"},null,8,Y)]),t("div",null,[t("h6",G,c(r.name),1),t("p",H,c(r.position),1)]),t("a",{href:r.link},[t("img",{src:r.link_icon.filename,alt:"social network icon"},null,8,Q)],8,J)])],4))),256))).cacheIndex=2,v(1),s[2])],4)],4)]))}});const ne=V(X,[["__scopeId","data-v-e31f84a1"]]);export{ne as R};
